/*! rig-class.js 2017-11-29 */
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(["../dist/Class.min"],b):"object"==typeof exports?module.exports=b(require("../dist/Class.min")):a.EventEmitter=b(a.Class)}(this,function(a){"use strict";var b=console.log;return new a({___events:{get:function(){return Object.hasOwnProperty.call(this,"____events")||a.define(this,"____events",a({}).Writable()),this.____events}},emit:function(a,b){var c=arguments,d,e,f;if(this.___events[a])for(e=this.___events[a].length;e--;){if(f=this.___events[a][e],"function"!=typeof f.listener)throw this.___events[a].splice(e,1),new Error("cannot emit event «"+a+"», listener is typeof «"+typeof f.listener+"»");f.listener.apply(null,Array.prototype.slice.call(c,1)),f.once&&this.___events[a].splice(e,1)}else"error"===a&&(d=Array.prototype.slice.call(c,1).filter(function(a){return a instanceof Error}),console.warn("Emitting error event without listeners!"),console.trace.apply(console,d));return this},listener:function(a){return this.___events&&this.___events[a]?this.___events[a]:[]},off:function(a,b){var c;if(a)if(b&&this.___events[a])for(c=this.___events[a].length;c--;)this.___events[a][c].listener===b&&this.___events[a].splice(c,1);else this.___events[a]&&delete this.___events[a];else this.____events={};return this.emit("removeListener",a,b),this},once:function(a,b){return this.on(a,b,!0)},on:function(a,b,c){var d,e;if("object"==typeof a)for(d=Object.keys(a),e=d.length;e--;)this.addListener(d[e],a[d[e]],c);else this.addListener(a,b,c);return this},addListener:function(a,b,c){this.___events[a]||(this.___events[a]=[]),this.emit("listener",a,b,!0===c),this.___events[a].push({listener:b,once:!!c})}})});
//# sourceMappingURL=EventEmitter.min.js.map